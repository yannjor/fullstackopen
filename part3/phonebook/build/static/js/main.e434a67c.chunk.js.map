{"version":3,"sources":["AddPersonForm.js","Person.js","Persons.js","SearchFilter.js","Notification.js","App.js","index.js"],"names":["AddPersonForm","addPerson","newName","newNumber","setNewName","setNewNumber","onSubmit","type","value","onChange","event","target","Person","person","deletePerson","name","number","onClick","Persons","persons","filter","map","key","personsFiltered","toLowerCase","includes","SearchFilter","setFilter","Notification","message","error","successStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","style","App","useState","setPersons","notificationMsg","setNotificationMsg","setError","db_url","timeout","setTimeout","useEffect","axios","get","then","res","data","preventDefault","some","window","confirm","find","p","changedPerson","put","concat","id","catch","err","console","log","response","newPerson","post","delete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e434a67c.chunk.js","sourcesContent":["import React from 'react';\n\nconst AddPersonForm = ({ addPerson, newName, newNumber, setNewName, setNewNumber }) => {\n    return (\n        <>\n            <h2>Add new</h2>\n            <form onSubmit={addPerson}>\n                <div>\n                    Name: <input type=\"text\" value={newName}\n                        onChange={(event) => setNewName(event.target.value)} />\n                </div>\n                <div>\n                    Number: <input type=\"tel\" value={newNumber}\n                        onChange={(event) => setNewNumber(event.target.value)}></input>\n                </div>\n                <div>\n                    <button type=\"submit\">Add</button>\n                </div>\n            </form>\n        </>\n    );\n};\n\nexport default AddPersonForm;\n","import React from 'react';\n\nconst Person = ({ person, deletePerson }) => {\n    return <p>{person.name} {person.number} <button\n        onClick={() => deletePerson(person)}>Delete</button></p>;\n};\n\nexport default Person;\n","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ persons, filter, deletePerson }) => {\n    if (filter === '') {\n        return (\n            <>\n                {persons.map(person => <Person key={person.name} person={person} deletePerson={deletePerson} />)}\n            </>\n        );\n    } else {\n        const personsFiltered = persons.filter(person =>\n            person.name.toLowerCase().includes(filter.toLowerCase()));\n        return (\n            <>\n                {personsFiltered.map(person => <Person key={person.name} person={person} deletePerson={deletePerson} />)}\n            </>\n        );\n\n    }\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst SearchFilter = ({ filter, setFilter }) => {\n    return (\n        <>\n            Filter: <input type=\"text\" value={filter}\n                onChange={(event) => setFilter(event.target.value)}></input>\n        </>\n    );\n};\n\nexport default SearchFilter;\n","import React from 'react';\n\nconst Notification = ({ message, error }) => {\n\n    if (!message) {\n        return null;\n    }\n\n\n    const successStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 15\n    };\n\n    const errorStyle = { ...successStyle, color: 'red' };\n\n    return (\n        <div style={error ? errorStyle : successStyle}>\n            {message}\n        </div>\n    );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport AddPersonForm from './AddPersonForm';\nimport Persons from './Persons';\nimport SearchFilter from './SearchFilter';\nimport Notification from './Notification';\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [notificationMsg, setNotificationMsg] = useState(null);\n  const [error, setError] = useState(false);\n\n  const db_url = '/api/persons';\n\n\n  const timeout = () => {\n    setTimeout(() => {\n      setNotificationMsg(null);\n      setError(false);\n    }, 5000);\n  };\n\n\n  useEffect(() => {\n    axios.get(db_url).then(res => {\n      setPersons(res.data);\n    });\n  }, []);\n\n\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name === newName);\n        const changedPerson = { ...person, number: newNumber };\n        axios\n          .put(db_url.concat(`/${person.id}`), changedPerson)\n          .then(res => {\n            setPersons(persons.map(p => p.id === person.id ? res.data : p));\n            setNewName('');\n            setNewNumber('');\n            setNotificationMsg(`Updated number for ${newName}`);\n            timeout();\n          })\n          .catch(err => {\n            console.log(err.response.data);\n            setError(true);\n            setNotificationMsg(`Information of ${newName} has already been removed from server`);\n            timeout();\n          });\n      }\n    } else {\n      const newPerson = { name: newName, number: newNumber };\n      axios\n        .post(db_url, newPerson)\n        .then(res => {\n          setPersons(persons.concat(newPerson));\n          setNewName('');\n          setNewNumber('');\n          setNotificationMsg(`Added ${newName}`);\n          timeout();\n        })\n        .catch(err => {\n          console.log(err.response.data);\n          setError(true);\n          setNotificationMsg('');\n        });\n    }\n  };\n\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      axios\n        .delete(db_url.concat(`/${person.id}`))\n        .then(res => {\n          setPersons(persons.filter(p => p.id !== person.id));\n          setNotificationMsg(`Deleted ${person.name}`);\n          timeout();\n        });\n    }\n  };\n\n\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMsg} error={error} />\n      <SearchFilter filter={filter} setFilter={setFilter} />\n      <AddPersonForm addPerson={addPerson} newName={newName} newNumber={newNumber}\n        setNewName={setNewName} setNewNumber={setNewNumber} />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filter={filter}\n        deletePerson={deletePerson}\n      />\n    </>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}